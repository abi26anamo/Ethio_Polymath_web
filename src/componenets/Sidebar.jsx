"use client"
import Image from 'next/image'
import Link from 'next/link'
import { usePathname, useRouter } from 'next/navigation'
import React, { useState } from 'react'
import { Poppins } from 'next/font/google'
import SidebarPopup from './FeedbackPopup'

const poppins400 = Poppins({
    weight: ["400"],
    subsets: ['latin']
})

const hiddenLinks = ['/admin/settings']

const Sidebar = () => {
    const currentRoute = usePathname()
    const route = useRouter()
    const [showPopup, setShowPopup] = useState(false)

    const togglePopup = () => {
        setShowPopup(!showPopup)
    }

    const createbtnHandler = () => {
        route.push('/admin/dashboard/content-assistant/create/hub-title-creation')
    }
    return (
      <div
      className={`hidden md:flex flex-col px-4 py-5 ${
        hiddenLinks.includes(currentRoute) ? "" : "border-r border-[#E5E5E5]"
      } h-auto w-72 ${poppins400.className}`}
    >
        <div className="">
          <Link href="/admin/dashboard/video-management">
          <div className="justify-center items-center gap-4 inline-flex">
            <img
              src="/assets/icons/polymath_icon.svg"
              alt="Your Logo"
              width="24"
              height="24"
            />
            <div className="text-center text-black text-xl font-bold">
              Polymath
            </div>
          </div>
        </Link>
                <div className={`${hiddenLinks.includes(currentRoute) ? 'hidden' : 'py-12 flex flex-col gap-5 text-sm'}`}>
                  <div className={`space-y-8`}>
                    <Link href="/admin/dashboard/video-management" className={`${currentRoute === '/admin/dashboard/video-management' ? "text-[#4B4B4B]" : 'text-[#C4C4C4]'} flex gap-4 items-center`}>
                      <svg width="21" height="19" viewBox="0 0 21 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.08528 0.72728C8.85437 0.72728 9.59073 1.06546 10.0925 1.6491H15.9889C18.1653 1.6491 19.9489 3.37819 20.0144 5.55456V5.67456V6.06183H20.0089C20.0089 6.09455 20.0144 6.12183 20.0144 6.15456V14.8764C20.0144 17.1018 18.2144 18.9018 15.9889 18.9018H4.2071C1.98164 18.9018 0.181641 17.1018 0.181641 14.8764V4.75274C0.181641 2.52728 1.98164 0.72728 4.2071 0.72728H8.08528ZM8.08528 2.33638H4.2071C2.87073 2.33638 1.79073 3.41637 1.79073 4.75274V14.8764C1.79073 16.2127 2.87073 17.2928 4.2071 17.2928H15.9889C17.3253 17.2928 18.4053 16.2127 18.4053 14.8764V6.95638H12.3235C11.2435 6.95638 10.2725 6.29637 9.86891 5.29819L9.83073 5.19455L9.06709 3.0291C8.91982 2.61455 8.5271 2.33638 8.09073 2.33638H8.08528ZM8.718 12.6891C9.16527 12.6891 9.52528 13.0491 9.52528 13.4964C9.52528 13.9164 9.20346 14.2655 8.78891 14.2982H8.72346H5.04164C4.59437 14.2982 4.23436 13.9382 4.23436 13.4909C4.23436 13.0709 4.55619 12.7218 4.97073 12.6891H5.03618H8.718ZM15.9889 3.2582H10.8507L11.3471 4.66002C11.4835 5.04729 11.838 5.32001 12.2471 5.34728H12.3235H18.3835C18.2253 4.18546 17.2598 3.30729 16.0871 3.2582H15.9889Z"  fill={`${currentRoute === '/admin/dashboard/video-management' ? '#000000' : '#C4C4C4'}`}/>
                      </svg>
                        Video Management</Link>
                    <Link href="/admin/dashboard/subscription-payment" className={`${currentRoute === '/admin/dashboard/subscription-payment' ? "text-[#4B4B4B]" : 'text-[#C4C4C4]'} flex gap-4 items-center`}>
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.8422 1.09091H3.30581C2.38399 1.09091 1.63672 1.83818 1.63672 2.76V20.2909C1.63672 21.2127 2.38399 21.96 3.30581 21.96H20.8367C21.7585 21.96 22.5058 21.2127 22.5058 20.2909V2.76C22.5058 1.83818 21.7585 1.09091 20.8367 1.09091H20.8422ZM3.31126 2.76H20.8422V20.2909H3.30581V2.76H3.31126Z" fill={`${currentRoute === '/admin/dashboard/subscription-payment' ? '#000000' : '#C4C4C4'}`}/>
                        <path d="M11.9239 17.6466C11.5584 17.6466 11.2639 17.3466 11.2584 16.9866V15.9939L11.1602 15.9666C10.7893 15.8794 10.4348 15.7321 10.1129 15.5248C9.86204 15.3721 9.63295 15.1866 9.43658 14.9739C9.19658 14.6957 9.22386 14.2757 9.50204 14.0357C9.78022 13.7957 10.2002 13.823 10.4402 14.1012C10.4948 14.1666 10.6311 14.2812 10.822 14.4012C11.1711 14.6194 11.542 14.7285 11.9293 14.7285C12.3929 14.7285 12.8129 14.5648 13.0584 14.2921C13.2002 14.1503 13.2711 13.9539 13.2548 13.7575C13.2111 13.343 12.8566 13.043 11.7548 12.4648L11.4984 12.3339C10.6475 11.8921 10.1729 11.5812 9.85658 11.2594C9.51295 10.9157 9.34385 10.5394 9.28931 10.0048C9.22931 9.47027 9.39295 8.94117 9.74204 8.53208C10.0857 8.11208 10.5929 7.79572 11.1711 7.65391L11.2693 7.62662V6.62845C11.2911 6.26299 11.6075 5.97936 11.9729 6.00118C12.3111 6.023 12.5784 6.29027 12.6002 6.62845V7.62118L12.6984 7.64299C13.0748 7.73026 13.4239 7.87755 13.7457 8.08482C14.1166 8.31391 14.3293 8.53208 14.422 8.63572C14.6566 8.9139 14.6184 9.33391 14.3402 9.56846C14.0675 9.79755 13.6639 9.77026 13.4239 9.50299C13.3093 9.38844 13.1839 9.28481 13.042 9.20299C12.7148 8.99027 12.3275 8.87572 11.9348 8.87572C11.4766 8.87572 11.0511 9.03937 10.8057 9.31209C10.6639 9.45391 10.5929 9.65026 10.6093 9.84663C10.6529 10.2612 11.0075 10.5612 12.1093 11.1339L12.3657 11.2648C13.2166 11.7066 13.6911 12.0175 14.0075 12.3394C14.3457 12.683 14.5202 13.0594 14.5802 13.5939C14.6402 14.123 14.482 14.6303 14.1275 15.0666C13.7566 15.503 13.2548 15.8139 12.6984 15.9448L12.6002 15.9721V16.9703C12.6002 17.3357 12.3057 17.6357 11.9402 17.6357L11.9239 17.6466Z" fill={`${currentRoute === '/admin/dashboard/subscription-payment' ? '#000000' : '#C4C4C4'}`}/>
                      </svg>

                        Subscription Payment</Link>
                    <Link href="/admin/dashboard/content-assistant" className={`${currentRoute === '/admin/dashboard/content-assistant' ? "text-[#4B4B4B]" : 'text-[#C4C4C4]'} flex gap-4 items-center`}>
                      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.6366 15.9073C10.6366 16.1909 10.8657 16.42 11.1493 16.42H18.9548C19.2384 16.42 19.4675 16.1909 19.4675 15.9073C19.4675 15.6236 19.2384 15.3946 18.9548 15.3946H11.1493C10.8657 15.3946 10.6366 15.6236 10.6366 15.9073ZM18.9548 18.1764H7.44026C7.15662 18.1764 6.92753 18.4055 6.92753 18.6891C6.92753 18.9727 7.15662 19.2018 7.44026 19.2018H18.9548C19.2384 19.2018 19.4675 18.9727 19.4675 18.6891C19.4675 18.4055 19.2384 18.1764 18.9548 18.1764ZM7.82753 16.2891C7.82753 16.2891 7.83844 16.2782 7.84389 16.2673C7.8548 16.2564 7.87117 16.2454 7.88208 16.2291L16.1184 7.99274L17.6566 6.45455C18.3003 5.81091 18.6548 4.95456 18.6548 4.04365C18.6548 3.13274 18.3003 2.27635 17.6566 1.63272L17.2039 1.18001C16.5603 0.536379 15.7039 0.181824 14.793 0.181824C13.8821 0.181824 13.0257 0.536379 12.3821 1.18001L2.61299 10.9491C2.61299 10.9491 2.59117 10.9764 2.58026 10.9873C2.57481 10.9927 2.56389 10.9982 2.55844 11.0036C2.53662 11.0254 2.52025 11.0473 2.50389 11.0691H2.49845C2.49845 11.0691 2.49844 11.08 2.49299 11.0855C1.33662 12.5255 0.305712 17.6909 0.191166 18.2909C0.136621 18.5691 0.322075 18.8364 0.600257 18.8909C0.671166 18.9073 0.747527 18.9018 0.818436 18.8909C1.40207 18.7491 6.4039 17.5 7.7839 16.3273C7.80572 16.3109 7.82209 16.3 7.83845 16.2837L7.82753 16.2891ZM3.63844 11.3746L11.2039 3.80911L15.0275 7.63818L7.46208 15.2036L3.63844 11.38V11.3746ZM13.1021 1.91091C13.5548 1.45818 14.1494 1.21274 14.7875 1.21274C15.4257 1.21274 16.0203 1.45818 16.473 1.91091L16.9257 2.36364C17.3784 2.81637 17.6239 3.4109 17.6239 4.04908C17.6239 4.68726 17.3784 5.28182 16.9257 5.73455L15.753 6.90729L11.9294 3.07819L13.1021 1.90545V1.91091ZM2.99481 12.1873L6.66027 15.8527C5.54208 16.4745 3.16389 17.2164 1.34753 17.7018C1.75116 15.8145 2.40572 13.3327 2.99481 12.1873Z" fill={`${currentRoute === '/admin/dashboard/content-assistant' ? '#000000' : '#C4C4C4'}`}/>
                      </svg>
                        Content Assistant</Link>
                        </div>
                    <button onClick={createbtnHandler} className="text-white bg-[rgb(252,123,146)] hover:bg-[rgb(255,85,116)] transition-all w-full rounded-full py-3 mt-8 flex justify-center items-center gap-2 text-sm duration-200"><span className="text-xl">+</span> Create</button>
                </div>
            </div>
            <div className={`${hiddenLinks.includes(currentRoute) ? 'hidden' : "flex-1 flex flex-col justify-end gap-4"}`}>
                <button onClick={togglePopup} className="transition-all w-full rounded-full py-3 flex justify-center items-center gap-3 border text-[#4B4B4B] hover:bg-[#e0e0e0] text-sm duration-200">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.456 7.4L9.736 8.136C9.16 8.712 8.8 9.2 8.8 10.4H7.2V10C7.2 9.112 7.56 8.312 8.136 7.736L9.128 6.728C9.424 6.44 9.6 6.04 9.6 5.6C9.6 5.17565 9.43143 4.76869 9.13137 4.46863C8.83131 4.16857 8.42435 4 8 4C7.57565 4 7.16869 4.16857 6.86863 4.46863C6.56857 4.76869 6.4 5.17565 6.4 5.6H4.8C4.8 4.75131 5.13714 3.93737 5.73726 3.33726C6.33737 2.73714 7.15131 2.4 8 2.4C8.84869 2.4 9.66263 2.73714 10.2627 3.33726C10.8629 3.93737 11.2 4.75131 11.2 5.6C11.1988 6.27459 10.9315 6.92146 10.456 7.4ZM8.8 13.6H7.2V12H8.8M8 0C6.94943 0 5.90914 0.206926 4.93853 0.608964C3.96793 1.011 3.08601 1.60028 2.34315 2.34315C0.842855 3.84344 0 5.87827 0 8C0 10.1217 0.842855 12.1566 2.34315 13.6569C3.08601 14.3997 3.96793 14.989 4.93853 15.391C5.90914 15.7931 6.94943 16 8 16C10.1217 16 12.1566 15.1571 13.6569 13.6569C15.1571 12.1566 16 10.1217 16 8C16 3.576 12.4 0 8 0Z" fill="#4B4B4B" />
                    </svg>
                    Feedback</button>
                <button className="transition-all w-full rounded-full py-3 flex justify-center items-center gap-3 border text-[#4B4B4B] hover:bg-[#e0e0e0] text-sm duration-200">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 4V16H0V4H4.03906C4.02865 3.91667 4.02083 3.83333 4.01562 3.75C4.01042 3.66667 4.00521 3.58333 4 3.5C4 3.01562 4.09115 2.5625 4.27344 2.14062C4.45573 1.71875 4.70573 1.34635 5.02344 1.02344C5.34115 0.700521 5.71094 0.450521 6.13281 0.273438C6.55469 0.0963542 7.01042 0.00520833 7.5 0C7.98438 0 8.4375 0.0911458 8.85938 0.273438C9.28125 0.455729 9.65365 0.705729 9.97656 1.02344C10.2995 1.34115 10.5495 1.71094 10.7266 2.13281C10.9036 2.55469 10.9948 3.01042 11 3.5C11 3.58333 10.9974 3.66667 10.9922 3.75C10.987 3.83333 10.9766 3.91667 10.9609 4H16ZM7.5 1C7.15625 1 6.83333 1.0651 6.53125 1.19531C6.22917 1.32552 5.96354 1.50521 5.73438 1.73438C5.50521 1.96354 5.32552 2.22917 5.19531 2.53125C5.0651 2.83333 5 3.15625 5 3.5C5 3.84375 5.0651 4.16667 5.19531 4.46875C5.32552 4.77083 5.5026 5.03646 5.72656 5.26562C5.95052 5.49479 6.21615 5.67448 6.52344 5.80469C6.83073 5.9349 7.15625 6 7.5 6C7.84375 6 8.16667 5.9349 8.46875 5.80469C8.77083 5.67448 9.03385 5.4974 9.25781 5.27344C9.48177 5.04948 9.66146 4.78385 9.79688 4.47656C9.93229 4.16927 10 3.84375 10 3.5C10 3.15625 9.9349 2.83333 9.80469 2.53125C9.67448 2.22917 9.49479 1.96615 9.26562 1.74219C9.03646 1.51823 8.77083 1.33854 8.46875 1.20312C8.16667 1.06771 7.84375 1 7.5 1ZM15 5H10.6641C10.5339 5.27083 10.3724 5.52344 10.1797 5.75781C9.98698 5.99219 9.76562 6.19271 9.51562 6.35938C10.0521 6.56771 10.5365 6.84375 10.9688 7.1875C11.401 7.53125 11.7656 7.92708 12.0625 8.375C12.3594 8.82292 12.5911 9.3125 12.7578 9.84375C12.9245 10.375 13.0052 10.9271 13 11.5V12H12V11.5C12 10.8594 11.8854 10.2656 11.6562 9.71875C11.4271 9.17188 11.112 8.69531 10.7109 8.28906C10.3099 7.88281 9.83594 7.56771 9.28906 7.34375C8.74219 7.11979 8.14583 7.00521 7.5 7C6.92188 7 6.375 7.09896 5.85938 7.29688C5.34375 7.49479 4.88542 7.77344 4.48438 8.13281C4.08333 8.49219 3.75521 8.91406 3.5 9.39844C3.24479 9.88281 3.08594 10.4167 3.02344 11H8.08594L6.28906 9.20312L7 8.5L10 11.5L7 14.5L6.28906 13.7969L8.08594 12H2V11.5C2 10.9271 2.08073 10.3776 2.24219 9.85156C2.40365 9.32552 2.63802 8.83854 2.94531 8.39062C3.2526 7.94271 3.61979 7.54688 4.04688 7.20312C4.47396 6.85938 4.95573 6.58073 5.49219 6.36719C4.98177 6.00781 4.59635 5.55208 4.33594 5H1V15H15V5Z" fill="black" />
                    </svg>
                    Creator Center</button>
            </div>
            <div className="" style={{ zIndex: 9999 }}>
                {showPopup && <SidebarPopup onClose={togglePopup} />}
            </div>
        </div>
    )
}

export default Sidebar   